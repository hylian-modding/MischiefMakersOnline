!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n():"function"==typeof define&&define.amd?define(n):n()}(0,function(){var e,n,r=require("fs"),i=require("path"),t=require("fmerge"),f=require("rimraf");function a(n,i){var t=r.statSync(n).mtime.getTime();return e>t+1e3*i}function o(e){return e&&"limit"in e}function u(e){return e&&"totalRemoved"in e}function c(e){return u(e)?e.totalRemoved:-2}function s(e){return c(e)>=function(e){return o(e)?e.limit:-1}(e)}function l(e){return e&&"maxLevel"in e}function d(e){return l(e)?e.maxLevel:-1}function v(e){return e&&e.age&&e.age.seconds?e.age.seconds:null}var m=module.exports=function(y,x,g){var p={};if(!s(x)&&r.existsSync(y)){var A=d(x),O=!1;o(x)&&(x.totalRemoved=u(x)?c(x):0),void 0===g?g=0:g++,g<1?(e=(new Date).getTime(),n=function(e){return!!(e&&"test"in e)&&e.test}(x)):O=function(e,n,r){var t=!1,f=n&&n.dir;if(f){var u=v(n),c=i.basename(e);Array.isArray(f)?t=-1!==f.indexOf("*")||-1!==f.indexOf(c):c!==f&&"*"!==f||(t=!0),t&&o(n)&&(t=!s(n)),t&&l(n)&&r>0&&(t=r<=d(n)),u&&t&&(t=a(e,u))}return t}(y,x,g),(-1===A||g<A)&&r.readdirSync(y).forEach(function(e){var f,c=i.join(y,e),l=!1;try{f=r.statSync(c)}catch(e){l=!0}if(l);else if(f.isDirectory()){var d=m(c,x,g);p=t(p,d),u(x)&&(x.totalRemoved+=Object.keys(d).length)}else if(function(e,n){void 0===n&&(n={});var r=!1,t=n.extensions?n.extensions:null,f=n.files?n.files:null,u=n.prefix?n.prefix:null,c=n&&n.ignore?n.ignore:null,l=i.basename(e);if(f&&(r=Array.isArray(f)?-1!==f.indexOf("*.*")||-1!==f.indexOf(l):"*.*"===f||l===f),!r&&t){var d=i.extname(e);r=Array.isArray(t)?-1!==t.indexOf(d):d===t}if(!r&&u&&(r=0===l.indexOf(u)),r&&o(n)&&(r=!s(n)),r&&c&&(r=Array.isArray(c)?!(-1!==c.indexOf(l)):!(l===c)),r){var m=v(n);m&&(r=a(e,m))}return r}(c,x)){var A;if(n)A=!0;else try{r.unlinkSync(c),A=!0}catch(e){}A&&(p[c]=!0,u(x)&&x.totalRemoved++)}}),O&&(n||f.sync(y),u(x)||(p[y]=!0))}return p}});
//# sourceMappingURL=find-remove.umd.js.map
